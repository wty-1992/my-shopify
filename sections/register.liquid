<style>

   html{
    width: 100%;
    height: 100%;
    overflow: hidden;
  }
  .search-container{
    display:none;
  }
  .container-slide{
    display:none !important;
  }
  .from-box{
    width: 100%;
    height: 100%;
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    background: #F6F6F9;
    z-index: 1000;
  }
  .password-box{
    display: flex;
    justify-content: space-between;
    align-items: center;
  }
  .tips_policy{
    text-align: center;
    width:100%;
    padding:  20px 0px;
    border-top:1px solid #F6F6F9;
    color:#6C6888;
  }
  .input-password-box {
    position: relative;
    width:100%;
  }
  .input-password-box input{
    margin-bottom:0px;
  }
  .sign-up-input-botton-top{
    margin-top:30px;
  }
  .icon-password-eye-open{
    position:absolute;
    right:10px;
    top:16px;
    cursor: pointer;
    display: flex;
    justify-content: center;
    align-items: center;
  }
  .oblique-line{
    width:30px;
    height:2px;
    border-bottom:1px solid #6C6888;
    position:absolute;
    right:10px;
    top: 31%;
    transform: rotateZ(43deg) translate(7px, -50%);
    background: #fff;
    display:none;
  }
  .customer_register{
    position: relative;
  }
    .account-container,.account__templates{
   display:none!important;
  }
  .input-box{
   width: 100%;
    height: 100%;
    position: relative;
    display: flex;
    justify-content: center;
    align-items: center;
    border-radius: 12px;
  }
  .password-box{
    display: flex;
    justify-content: space-between;
    align-items: center;
  }
  .input-close{
  	width:56px;
    height:56px;
    background: #ffffff;
    display: flex;
    justify-content: center;
    align-items: center;
    border-radius: 50%;
    position: absolute;
    top:60px;
    left:60px;
    cursor:pointer;
   }
  .input-content{
    width:470px;
    padding:0 28px;
    background: #ffffff;
    height:732px;
  }
  .input-content-box{
  	width:100%;
    display: flex;
    justify-content: center;
    align-items: center;
    flex-direction: column;
  }
  .input-content .input-content-box img{
  	margin-bottom:14px;
    height:88px;
    margin-top:50px;
  }
  .input-content-title{
    width:100%;
    color:#222;
    font-size:24px;
    line-height:32px;
    text-align: center;
    margin-bottom:40px;
  }
  .input-box-content {
    width:100%;
    position: relative;
  }
  
  .box-margin-bottom{
     margin-bottom:20px;
  }
  .input-content-box .input-box-content lable{
 	color:#222;
    font-size:14px;
    line-height:16px;
    margin-bottom:6px;
  } 
  .forget-password{
  	color:#6C6888;
    font-size:12px;
    line-height:14px;
    cursor: pointer;
  }
  .errors{
    color:#F9423A;
    font-size:14px;
    line-height:32px;
    background: #ffffff;
    padding: 0;
    font-size: 14px;
    line-height: 32px;
    margin-bottom:0px;
    font-family: alibaba-sans,sans-serif;
    font-weight: 400;
    font-style: normal;
  }
  .wrong-password{
    color:#F9423A;   
    font-size: 14px;
    line-height: 32px;
  }

  .active-password{
    display:block;
  }
  .input-box-content  input{
    height:56px;
    border-radius: 4px;
    padding: 17px 28px 17px 28px;
    font-size:16px;
    line-height:19px;
    margin-bottom:0px;
    background: #ffffff;
    margin-top:6px;
  }
  .input-botton{
    width:100%;
    background:#F6F6F9;
  	color:rgba(146,143,165,0.5);
    font-size:16px;
    line-height:19px;
    border-radius: 4px;
    margin-top:40px;
    padding:13px 0px;
    text-align: center;
    border-width:0px !important;
    cursor: pointer
  }
  .input-botton-top{
    margin-top:32px;
  }
  .input-tips{
    width:100%;
    display: flex;
    justify-content: center;
    align-items: center;
    margin-top:10px;
    margin-bottom:40px;
  }
  .input-tips-text{
    font-size:13px;
    line-height:32px;
    color:#222;
    margin-top:10px;
    
  }
  .color-special{
   color:#F9423A;
    margin-left:8px;
    cursor: pointer;
  }
  .input-box-content .input-password{
  	padding: 17px 46px 17px 28px;
  }
  .form-box{
    width:100%;
    display: flex;
    justify-content: center;
    align-items: center;
    flex-direction: column;
  }
  
 .oblique-line{
    width:30px;
    height:2px;
    border-bottom:1px solid #6C6888;
    position:absolute;
    right:10px;
    top: 31%;
    transform: rotateZ(43deg) translate(7px, -50%);
    background: #fff;
    display:none;
  }
  .submit-email{
    background-color:#F6F6F9;
    border-radius: 4px;
    padding: 14px 0 !important;
    font-size:16px;
    line-height:19px;
    border-radius: 4px !important;
    color: rgba(146,143,165,0.5);
  }
  .form-vertical .new-height{
    height: 56px !important;
  }
  .form-vertical .cancel_text-link{
    padding: 14px 0 !important;
    font-size:16px;
    line-height:19px;
    border-radius: 4px !important;
  }
  .form-vertical .recover-email{
    padding: 17px 28px 17px 28px !important;
    font-size:16px;
    line-height:19px;
    border-radius: 4px !important;
  }
  .recover-password{
  	padding-bottom:40px !important;
    border-radius: 4px;
    width:100%;
  }
   .recover-password p{
  text-align: center;
  }
.sign-up-box{
    width:100%;
  }
  .icon-password-eye-open{
    position:absolute;
    right:10px;
    top:16px;
    cursor: pointer;
    display: flex;
    justify-content: center;
    align-items: center;
  }
  .input-password-box {
    position: relative;
    width:100%;
  }
  .input-password-box input{
    margin-bottom:0px;
  }

  @media(max-width:768px){
    .sign-up-page{
      background: #ffffff;
    }
     .input-close{
      width:36px;
      height:36px;
      position: absolute;
      top:10px;
      left:10px;
    }
    .input-content{
      padding:0 20px;
    }
  }
.active-border{
    border:2px solid #F9423A !important;
  }
  .active-block{
   display:block;
  }
  .active-none{
  display:none;
  }
  .color-active{
    background:#F9423A;
    color:#fff;
  }
</style> 

{% assign public_logo_resize = section.settings.public_logo.width | append: "x" | append: section.settings.public_logo.height %}
<div class="sign-up-page from-box">
  <div class="input-box">
    <div class="input-close">
      {% include 'icon-login-close'%}
    </div>
    <div class="input-content sign-up-content">
      <div class="input-content-box">
        <img  src="{{section.settings.public_logo | img_url: public_logo_resize }}" />
        <div class="input-content-title alifont_heavy">
          {{section.settings.sign_up_title}}
        </div>
        <div class="sign-up-box form-vertical">

          {% form 'create_customer',class:"customer_register" %}
          {{ form.errors | default_errors }}
          <div class="input-box-content box-margin-bottom">
            <lable class="input-title alifont_heavy">{{ 'customer.login.email' | t }}</lable>
            <input placeholder="{{section.settings.background_email_text}}" class="sign-up-email-number alifont"  name="customer[email]"  type="email" value='' name="customer[email]"/>
          </div>

          <div class="input-box-content">
            <lable class="input-title alifont_heavy">{{ 'customer.login.password' | t }}</lable>
            <div class="input-password-box">
              <input placeholder="{{section.settings.sign_background_password}}" class="input-password alifont" type="password" value='' name="customer[password]"/>
              <div class="icon-password-eye-open"> 
                <div class="oblique-line"></div>
                {% include 'icon-password-eye-open'%} 
              </div>
            </div>
          </div>
          <!--       提交   -->
          <input class="input-botton alifont_bold mm-btn mm-btn-primary" type="submit" value="{{section.settings.sign_up_text}}" class="btn">
          {% endform %}
        </div>
        <div class="input-tips ">
          <span class="input-tips-text alifont">{{section.settings.sign_up_tips_one}}</span>
          <span href="/account/login" class="input-tips-text color-special alifont_bold">{{section.settings.sign_up_tips_two}}</span>
        </div>
      </div>
      <div class="tips_policy alifont">{{section.settings.sign_up_tips_policy}}</div>
    </div>
  </div>
</div>

<script>
  //显示注册
//   if(window.location.href.indexOf('register')===-1&&window.location.href.indexOf('login')===-1){
//     $('.from-box').addClass('page-none')
//     $('html').removeClass('html')
//   }else{
//     $('.from-box').removeClass('page-none')
//     if(window.location.href.indexOf('register')>-1){
//       $('.login-page').addClass('active-none')
//       $('.sign-up-page').addClass('active-block')
//       $('html').addClass('html')
//     }
//   }



  // 点击眼睛
  $('.sign-up-box .icon-password-eye-open').on('mouseup',function(){
    $('.sign-up-box .icon-password-eye-open').find('.oblique-line').toggleClass('active-block')
    if($(".sign-up-box .input-password").attr("type")==="text"){

      $('.sign-up-box .input-password').attr("type","password");
    }else{
      $('.sign-up-box .input-password').attr("type","text");
    }
  })

  //提交框的样式变化
  function renderSignUpInputColor(emailValue,passwordValue) {
    if(emailValue!==''&&passwordValue!==''){
      $('.sign-up-box .input-botton').addClass('color-active') 
      return true
    }else{
      $('.sign-up-box .input-botton').removeClass('color-active')
      return false
    }
  }
  renderSignUpInputColor($('.sign-up-box .input-password').val(),$('.sign-up-email-number').val())

  // 监听值输入
  $('.sign-up-email-number').on('input',function(e){
    renderSignUpInputColor(e.target.value,$('.input-password').val())
  })
  $('.sign-up-box .input-password').on('input',function(e){
    renderSignUpInputColor(e.target.value,$('.sign-up-email-number').val())
  })

  //获得焦点
  $(' .sign-up-email-number').on('focus',function(){
    $('.sign-up-email-number').addClass('active-border')	
  })
  $('.sign-up-box .input-password').on('focus',function(){
    $('.sign-up-box .input-password').addClass('active-border')	
  })

  // 失去焦点
  $('.sign-up-email-number').on('blur',function(){
    $('.sign-up-email-number').removeClass('active-border')	
  })

  $('.sign-up-box .input-password').on('blur',function(){
    $('.sign-up-box .input-password').removeClass('active-border')	
  })

  //去登录
  $('.sign-up-page .input-tips-text').on('click',function(){
    window.location.replace('/account/login')
  })

  //关闭注册页面
  $('.sign-up-page .input-close').on('click',function(){
    window.history.back()
  })

  //改变提交框的样式
//   if($('.sign-up-page #create_customer').find('.errors').length>0){
//     $('.input-botton').addClass('sign-up-input-botton-top')
//   } else{
//     $('.input-botton').removeClass('sign-up-input-botton-top')
//   }
  
  {% if form.errors %}
  if (window.location.pathname == '/account/login'){
    window.localStorage.setItem('account-magento-login-error', '{{ form.errors | default_errors }}')
    $('.sign-up-page').removeClass('active-block')
  }
  {% endif %}

</script>
{% schema %}
 {
  "name": "注册配置",
  "settings": [
    {
      "type": "image_picker",
      "id": "public_logo",
      "label": "注册的logo"
    },
    {
      "type": "text",
      "id": "background_email_text",
      "label": "注册的email背景字",
      "default": "Work e-mail"
    },
    {
      "type": "text",
      "id": "sign_background_password",
      "label": "注册的密码背景字",
      "default": "Create a password"
    },
    {
      "type": "text",
      "id": "sign_up_title",
      "label": "注册的标题",
      "default": "Sign up and start earning for free"
    },
    {
      "type": "text",
      "id": "sign_up_text",
      "label": "注册按钮文案",
      "default": "Sign up"
    },
    {
      "type": "text",
      "id": "sign_up_tips_one",
      "label": "注册底部提示1",
      "default": "Already have an account?"
    },
    {
      "type": "text",
      "id": "sign_up_tips_two",
      "label": "注册底部提示2",
      "default": "Sign in"
    },
    {
      "type": "text",
      "id": "sign_up_tips_policy",
      "label": "政策条款提示",
      "default": "By clicking Sign up you agree to MadeMine’s Terms of Service, Privacy Policy and Intellectual Property Policy"
    }
  ]
}
{% endschema %}