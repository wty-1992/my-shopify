{% if section.settings.restore_style %}

{%- assign collection = collections[section.settings.collection] -%}

<style scoped>
.bestsellers-top5 .flex-between-topleft{margin-top:20px}
.bestsellers-top5 .flex-between-topleft span{color:#000}
.detail p{color:#000}
.bestsellers-top5 .pro_button{
background: #c4996e;
color: #fff;
padding: 12px 24px;
margin-top: 10px;
display: inline-block;}
.bestsellers-top5 .bestsells-one .flex-between-topleft span{color: #000;}
.bestsellers-top5 .pro_price{
font-size: 28px;
}
.bestsellers-top5 .pro_price_old { 
text-decoration: line-through;}
.bestsellers-top5 .bestsells{ position: relative;
width: 100%;  float: left; 
margin-bottom: 6px;
}
.bestsellers-top5 .bestsells-one { 
background: #fff;
box-shadow: 0px 0px 2px 1px #74628a;}
.bestsellers-top5 .bestsells-one .left{width:32%}
.bestsellers-top5 .bestsells-one  .detail p{color: red;font-size: 1rem;}
.bestsellers-top5 .bestsells-one.five  .left{width:42%}
.bestsellers-top5 .bestsells-one.five .detail{
background:url("https://cdn.shopify.com/s/files/1/0048/8829/7558/files/pc_31_03_03.png?1217") no-repeat 100% 50%;
width:58%;
}
.bestsellers-top5 .bestsells-one .topname{width: 50%;}
.bestsellers-top5 .bestsells-one .detail{ 
height: 308px;
width:65%;  
padding-top: 4%;
overflow: hidden;
max-width: none;
margin-bottom: 0;
background:url("https://cdn.shopify.com/s/files/1/0048/8829/7558/files/pc_1__07.png?1138") no-repeat  101% 50%;
}
.bestsellers-top5 .topname{
font-size: 24px;
width:80%;
color: #000;
font-weight: 600;display: block;
margin-bottom:10px;
}
.bestsellers-top5 .bestsells .five-toplabel {
	position: absolute;
    top: 0;
    left: 20px;
    width: 45px;
    height: 80px;
    border-radius: 0 0 15px 15px;
    background: #75638d;
    align-items: center;
    justify-content: center;
    line-height: 20px;
    color: #fff;
    font-size: 15px;
    z-index: 1;
    padding-top: 20px;
}
.bestsellers-top5 .flex-between-colom {
display: flex;
flex-direction: column;
display: -webkit-flex;
-webkit-flex-direction: column;
}
.bestsellers-top5 .left{float: left;text-align: center;width: 50%;}
.bestsellers-top5 .detail {
width:50%;
float:right; 
color:#ec4855;
margin-bottom: 5px;
font-size: 16px;
text-align: left;
padding-left: 30px;
}
.bestsellers-top5 .bestsells-two{height: 650px;}
.bestsellers-top5 .bestsells-two .left.topbot{height: 100%;background: #fff;width: 36%;position: relative;box-shadow: 0px 0px 2px 1px #74628a;}
.bestsellers-top5 .bestsells-two .right{width: 63.5%;float: right;}
.bestsellers-top5 .bestsells-two ul li{height: 320px;position: relative;background: #fff;padding: 15px;margin-bottom: 10px;box-shadow: 0px 0px 2px 1px #74628a;}
.bestsellers-top5 .bestsells-two ul li .detail{width:50%;padding-top: 5%;}
.bestsellers-top5 .bestsells-four ul li{float: left;width: 100%;}
.bestsellers-top5 .bestsells-two .t-center,.bestsells-two .detail{width: 100%;}
.top5banner{width: 1200px;margin: 58px auto 40px;}
.top5banner img{width:100%;}
.pc-banner{display: block;}
.mb-banner{display: none;}
.bestsellers-top5 .bestsells-one .detail p{color: #000;font-size: 1rem;}

@media (max-width : 640px) {
.bestsellers-top5 .bestsells{margin-bottom: 12px;}
.pc-banner{display: none;}
.mb-banner{display: block;}  
.top5banner{width:100%;margin:12px auto;}
.bestsellers-top5 .detail img{width:56%}
.bestsellers-top5 .bestsells-one{border-radius:0}
.bestsellers-top5 .bestsells .five-toplabel{
  width: 28px;
  height: 45px;
  left:5px;
  line-height: 12px;
  color: #fff;
  font-size: 12px;
  border-radius: 0 0 8px 8px;
  padding-bottom: 15px;
}
.bestsellers-top5 .bestsells-one .left{width:44%; margin-top:2%;padding:0;}
.bestsellers-top5 .bestsells-one.five .detail{  background:url("https://cdn.shopify.com/s/files/1/0048/8829/7558/files/1__05.png?1293") no-repeat 0 0 / cover;margin-bottom: 0;}
.bestsellers-top5 .bestsells-one .detail{   
height: 176px;    
width: 56%;
padding-left: 14%;
background:url("https://cdn.shopify.com/s/files/1/0048/8829/7558/files/1__05.png?1293") no-repeat  0 0 /cover;    
border-radius: 0;
padding-top: 8%;
}
.bestsellers-top5 .bestsells-one .detail p{color: #fff;}
.bestsellers-top5 .topname {font-size: 12px;width:100%;color: #000;height: 24px;overflow: hidden;}
.bestsellers-top5 .bestsells-one .topname{width:100%;color: #fff;}
.bestsellers-top5 .bestsells-one .flex-between-topleft span{color: #fff;margin-right:4px;}
.bestsellers-top5 .flex-between-topleft {margin-top: 5px;margin-bottom: 5px;}
.bestsellers-top5 .bestsells-two {
height: auto;
margin-bottom: 0;
}.bestsellers-top5 .bestsells-two .left.topbot{  border-radius:0;  width: 100%;}
.bestsellers-top5 .bestsells-two .right {
width: 100%;
float: right;
}.bestsellers-top5 .bestsells-two .t-center, .bestsells-two .detail {
width: 46%;
float: left;
margin-bottom: 15px;
}
.bestsellers-top5 .bestsells-two ul{    margin: 15px 0 0 0;
float: left;}   
.bestsellers-top5 .bestsells-two ul li {height: auto;border-radius:0;
width: 48%;
float: left;    padding: 10px 10px 0;}
.bestsellers-top5 .bestsells-two ul li .left{float: left;text-align: center;width: 100%;padding:0;}
.bestsellers-top5 .bestsells-two ul li .detail{width: 100%;padding: 0;}
.bestsellers-top5 .bestsells-two ul li.two{float:right}
.bestsellers-top5 .bestsells-two .detail p{padding-top: 5%;margin-bottom:5px;font-size: 12px;font-weight: 400;margin-top: 10px;}
.flex-between-topleft br{display:none;}
.bestsellers-top5 .pro_button {
background: #c4996e;
color: #fff;
padding: 6px 15px;
margin-top: 2px;
display: inline-block;
font-weight: 600;
font-size: 14px;
}
.bestsellers-top5 .pro_price {
font-size: 20px;
}
}

</style>

{% if section.settings.banner_enable %}
<div class="top5banner">
  <img src="{{ section.settings.top2BannerPc | img_url:'master' }}" class="pc-banner">
  <img src="{{ section.settings.top2BannerMb | img_url:'master' }}" class="mb-banner">
</div>
{% endif %}

<div id="bestsellers-top5" class="bestsellers-top5 page-width ">
    <div class="bestsells-one bestsells flex-between bestmb">      
    
            <a href="{{collection.products[0].url | within: collection }}">
                <div class="five-toplabel flex-between-colom">
                            <span  class="fw">{{'general.remedy.top' | t}}</span>
                            <span class="fs24">01</span>
                   </div>
                   <div class="left col-md-6"> <img src="{{collection.products[0].featured_image  | img_url: '300x300'}}"></div>
                   <div class="detail col-md-6">
                     
                    <p>2162 {{'general.remedy.pcs_sold' | t}}</p>
                    <span class="topname">{{collection.products[0].title}}</span>
                     <img src={{'top5-01.png' | asset_url }} />
                    <div class="label-ab"> 
                        <div class="flex-between-topleft">
                            <span class="price-item pro_price" data-sale-price>{{collection.products[0].price_min  | money}}</span>
                            <span class="pro_price_old price-item">{{collection.products[0].compare_at_price  | money}}</span>
                        </div>     
                        <span class="pro_button">{{'general.remedy.buy_now' | t}}</span>                   
                    </div> 
                   
                   </div>
            </a>        
        
    </div>
    <div class="bestsells bestsells-two bestmb ">      
            <div class="left topbot flex-between-colom">  
                <a href="{{collection.products[1].url | within: collection }}">
                    <div class="five-toplabel flex-between-colom">
                            <span  class="fw">{{'general.remedy.top' | t}}</span>
                            <span class="fs24">02</span>
                     </div>
                <div class="t-center">   <img src="{{collection.products[1].featured_image  | img_url: '300x300'}}"></div>  
                 <div class="detail">            
                    <p>1689 {{'general.remedy.pcs_sold' | t}}</p>
                    <span class="topname">{{collection.products[1].title}}</span>
                    <img src={{'top5-01.png' | asset_url }} />
                    <div class="label-ab">                                             

                        <div class="flex-between-topleft">
                            <span class="pro_price price-item">{{collection.products[1].price_min  | money}}</span><br/>
                            <span class="pro_price_old price-item">{{collection.products[1].compare_at_price  | money}}</span>
                        </div>
                        
                    </div>
                    <div class="mt10"><span class="pro_button">{{'general.remedy.buy_now' | t}}</span></div>
                </div>
               </a>
            </div>
            
        	<div class="right left-right">
            <ul>
                    <a href="{{collection.products[2].url | within: collection }}">
                        <li class="flex-between">
                            <div class="five-toplabel flex-between-colom">
                            <span  class="fw">{{'general.remedy.top' | t}}</span>
                            <span class="fs24">03</span>
                        	</div>
                            <div class="left col-md-6"><img src="{{collection.products[2].featured_image  | img_url: '300x300'}}"></div>
                            <div class="detail col-md-6">
                                <p> 1295 {{'general.remedy.pcs_sold' | t}}</p>
                                <span class="topname">{{collection.products[2].title}}</span>
                               <img src={{'top5-01.png' | asset_url }} />

                                <div class="flex-between-topleft">
                                   <span class="pro_price price-item">{{collection.products[2].price_min  | money}}</span>
                                   <span class="pro_price_old price-item">{{collection.products[2].compare_at_price  | money}}</span>
                                </div>
                             <div class="mt10"><span class="pro_button">{{'general.remedy.buy_now' | t}}</span></div>
                            </div>
                        </li>
                    </a>
                  <a href="{{collection.products[3].url | within: collection }}">
                        <li class="flex-between two">
                         <div class="five-toplabel flex-between-colom">
                            <span  class="fw">{{'general.remedy.top' | t}}</span>
                            <span class="fs24">04</span>
                        </div>
                            <div class="left col-md-6"><img src="{{collection.products[3].featured_image  | img_url: '300x300'}}"></div>
                            <div class=" detail col-md-6">
                                 <p>938 {{'general.remedy.pcs_sold' | t}}</p>
                                <span class="topname">{{collection.products[3].title}}</span>
                               <img src={{'top5-01.png' | asset_url }} />
                                <div class="flex-between-topleft">
                                   <span class="pro_price price-item">{{collection.products[3].price_min  | money}}</span>
                                   <span class="pro_price_old price-item">{{collection.products[3].compare_at_price  | money}}</span>
                                </div>  
                                 <div class="mt10"><span class="pro_button">{{'general.remedy.buy_now' | t}}</span></div>                          
                            </div>
                            
                        </li>
                    </a>
              
            </ul>
        </div>
    </div>     

     <div class="bestsells-one bestsells flex-between bestmb five">  
       <a href="{{collection.products[4].url | within: collection }}">
                <div class="five-toplabel flex-between-colom">
                            <span  class="fw">{{'general.remedy.top' | t}}</span>
                            <span class="fs24">05</span>
                   </div>
                   <div class="left col-md-6"> <img src="{{collection.products[4].featured_image  | img_url: '300x300'}}"></div>
                   <div class="detail col-md-6">
                    <p>569 {{'general.remedy.pcs_sold' | t}}</p>
                    <span class="topname">{{collection.products[4].title}}</span>
                     <img src={{'top5-01.png' | asset_url }} />
                    <div class="label-ab"> 
                        <div class="flex-between-topleft">
                            <span class="pro_price price-item">{{collection.products[4].price_min  | money}}</span>
                            <span class="pro_price_old price-item">{{collection.products[4].compare_at_price  | money}}</span>
                        </div>     
                        <span class="pro_button">{{'general.remedy.buy_now' | t}}</span>                   
                    </div> 
                   </div>
            </a>        
        
    </div>
</div>

{% else %}

<style>
.top6-title .top6-description{color: #64000c;}
.top6-products{background-color:#f3e6d3;max-width:1400px;margin:0 auto;border-radius:10%;padding-bottom: 90px;    box-shadow: 10px 10px 50px #4d1d1d;
}
.top6-title{margin: 4rem 0 4rem 0;}
.top6-title h3{font-size:70px;margin: 0 0 .5rem;color:#64000c;font-family:Quentin;padding-top:40px;font-weight: 400;}
.top6-title .top6-description{font-size:16px;}
.product-card__overlay-btn { 
	display: none; 
}
  .top6-description {
  	text-align: center;
  }
  .top6-list-grid {
  	width: 1200px;
    margin: 0 auto;
    display: flex;
    flex-wrap: wrap;
    justify-content: space-between;
  }
  .top6-item:nth-child(1),.top6-item:nth-child(2),.top6-item:nth-child(3){
      z-index: 2;
  }
  .top6-item {
  	width: 30%;
    position: relative;
    margin-bottom:108px;
  }
  .top6-item:hover{
  	box-shadow:0px 0px 20px rgba(0,0,0,.2);
  }  
  .top6-item .details-area{
  	position: absolute;
    width: 100%;
    left: 0;
    background: #fff;
    height:80px;
  } 
  .top6-item:hover .details-area{
  	height: 160px;
    transform: translateY(-82px);
    z-index: 2;
  }
  .ratings-fa-star.top6-stars{height:30px;}
  .top6-item .ratings-fa-star .yotpo.bottomLine .yotpo-bottomline .yotpo-icon-star{
  	font-size:14px;
  }
  .top6-item .ratings-fa-star .yotpo.bottomLine .yotpo-bottomline .yotpo-icon-half-star {
  	font-size:14px;
  }
  .top6-item:hover .box-shadow{
  	box-shadow: 0px 10px 20px rgba(0,0,0,.2);
  }
  .top6-list-grid {
  	margin-top: 20px;
  }
  .top6-item .cheap-title{
    word-wrap: break-word;
    display: block;
    max-height: 2rem;
    line-height: 2rem;
    text-align: center;
    text-transform: capitalize;
    color: #282828;
    text-overflow: ellipsis;
    white-space: nowrap;
    overflow: hidden;
    width: 85%;
    margin:0 auto 0;
    font-size: 1.2rem;
}
.top6-item .box-price {
  display: flex;
  justify-content: center; 
  align-items: center;
  margin-bottom: 10px;
}
.top6-item:hover .cheap-title{
	color:#dec18c;
}
.top6-item .box-price .old-price{
  opacity: 1;
  color: #ccc;
  font-size: 1.2rem;
  text-decoration: line-through;
  margin-left: 0.3rem;
}
.top6-item .box-price .new-price{
  margin-right: .2rem;
  font-size: 1.2rem;
  font-weight: bold;
  color: #000 
  }
.ratings-fa-star {
  grid-column: 1/4;
  margin-bottom: 20px;
}
 .ratings-fa-star .yotpo.bottomLine .yotpo-bottomline .yotpo-icon-star{
  font-size: 12px;
}
.ratings-fa-star .yotpo .yotpo-stars{
  margin-right:8px;
}
.ratings-fa-star .yotpo span{
  line-height:unset;
}
.ratings-fa-star .yotpo .text-m{
  font-size: 12px;
}
  .top6-stars .text-m {
  	display: none;
  }
  .top6-stars .yotpo .pull-left {
  	text-align: center !important;
    float: none !important;
  }
.preview{
    padding:0 1.6rem;
    position:relative;
  	padding-bottom: 1rem;
    z-index: 1;
    background: #fff;
}
.preview .photofont{
    font-size:28px;
}
 .preview .gallery-button-prev{
    position: absolute;
    top:50%;
    left:0px;
    margin-top:-18px;
    cursor:pointer;
}
.preview .gallery-button-next{
    position: absolute;
    top:50%;
    right:0px;
    margin-top:-18px;
    cursor:pointer;
}

 .product-images-product-details-thumb-button-prev {
    font-size:30px;
}
 .product-images img{
    cursor:pointer; 
}
.product-images .video-js{
    width: 100%;
    height:350px;
}
 .product-images .vjs-control-bar{
    font-size:1.2rem;
}
.product-images .vjs-big-play-button{
    top: 45%;
    left: 40%;
}

.gallery-thumbs .swiper-slide {
    cursor:pointer;
    opacity: 0.4;
}
.gallery-thumbs{
    margin-top:1rem;
}
.gallery-thumbs .swiper-slide-thumb-active {
    opacity: 1;
}
.gallery-thumbs .swiper-slide-thumb-active img{
    opacity: 1;
}
.product-info{
    padding:1rem;
}
.design-btn {
  background:rgba(255,255,255,.6);
  color: #000;
  padding: 18px 0;
  position: absolute;
  top: 35%;
  left: 50%;
    z-index: 2;
    transform: -webkit-translateX(-50%);
    transform: translateX(-50%);
    width: 60%;
    text-align: CENTER;
    FONT-SIZE: 1.2REM;
}
  .top-num {
    background: rgba(255,255,255,.6);
    color: #000;
    padding: 5px 10px;
    text-align: center;
    position: absolute;
    top: 10px;
    left: 10px;
    z-index: 2;
  }
  .top-num p{
  	margin-bottom:0.5rem;
  }
  .top-num p:nth-child(1){
  	font-size:14px;
    font-weight:900;
  }
  .top-num p:nth-child(2){
  	font-size:12px;
    font-weight:600;
  }
  .image-box-shadow {
  	-moz-box-shadow: 0px 5px 10px #ddd;
	box-shadow: 0px 5px 10px #ddd;
  }
  .top5-pro-img {
  	background-color: #fff;
    padding-bottom:80px;
  }
  .top6-stars {
    	display: none;
    }
@media ( max-width:768px ) {
  .top6-products {
    border-radius: 30px;
    padding-bottom: 25px;
}
  .top6-item{ 
    margin-bottom: 67px;
  }
  .top6-item .details-area{
    height:56px;
  }
.related-products .btn {
    padding: 15px 0;
}
.related-products .ratings-fa-star {
    height:8px;
}
.top6-stars {
    display: block;
}
.top6-title{
	    margin: 2rem 0 1rem;
}
.top6-title h3{
	font-size: 30px;
    padding-top: 15px;
}
.top6-list-grid{
	width:100%;
  padding:0 10px;
}
.top6-item{
  width:48.5%;
}
.top5-pro-img{
	padding-bottom: 15px;
}
.top6-item .cheap-title{
	font-weight: 400;
}
.top6-item .cheap-title{
	width: 94%;
}
.top6-item .box-price .new-price{
	font-size: 12px;
}
.top6-item .box-price .old-price{
	font-size: 12px;
}
.top6-item .home-collection-off{
	margin-left: 6px;
	transform: translateY(-3px);
}
.top6-item .box-price{
	margin-bottom: 2px;	
}
.ratings-fa-star.top6-stars{
	padding-bottom: 0;
    margin-bottom: 0;
}
.top6-item:hover .details-area{
  height: 80px;
  transform: none;
  z-index: 2;	
}
.top6-item:hover{
  box-shadow: none;
}
.top6-item:hover .box-shadow{
  box-shadow: none;
}
.top6-item:hover .cheap-title{
  color: #000;
}
.design-btn{opacity: 0;}
  .top6-title .top6-description{font-size:12px;}
}
</style>

  {% assign collection_top6 = collections[section.settings.collection] %}

  {% assign max = collection_top6.all_products_count %}

  {% assign product_collection_top6 = collection_top6.products %}
  
  {% assign limit = 6 %}

  {% if product_collection_top6.size > 1 %}
  <div class="top6-products">
    <div class="top6-title">
    	<h3 class="section-title">
          {{ section.settings.title }}
        </h3>
        <div class="top6-description">
          {{ section.settings.description }}
        </div>
    </div>
    <ul class="top6-list-grid">
      {% for prods in product_collection_top6  offset:0 limit: limit  %}
 
        <li class="top6-item" pro-handle="{{ prods.handle }}" first-img-id="{{ prods.images[0].id }}" pro-id="{{ prods.id }}">
          {% include 'product-images-swiper', product: prods %}
        </li>

      {% endfor %}
    </ul>

  </div>
  {% endif %}

<script>
$(function(){
  
  $(".top6-item").hover(function(){ 
	if(!isMobile()){
      var pro_handle = $(this).attr('pro-handle');
      $( "#swiper-"+pro_handle ).show();
      $("#top6-star-"+pro_handle).show();
      $(this).addClass('image-box-shadow');
    }

  },function(){  

    if(!isMobile()){
      var first_img_id = $(this).attr('first-img-id');
      var pro_id = $(this).attr('pro-id');
      var swiperSlide = $('#product-gallery-'+pro_id).find("[data-image-id='" + first_img_id + "']");
      var slice_name = 'productGallery' + pro_id;
      window[slice_name].slideTo(swiperSlide.index(), 0, false); 
      
      var pro_handle = $(this).attr('pro-handle');
      $( "#swiper-"+pro_handle ).hide();
      $("#top6-star-"+pro_handle).hide();
      $(this).removeClass('image-box-shadow');
    }
  });
  
  function isMobile() { 
    var userAgentInfo = navigator.userAgent; 
    var mobileAgents = [ "Android", "iPhone", "SymbianOS", "Windows Phone", "iPad","iPod"]; 
    var mobile_flag = false; 
    for (var v = 0; v < mobileAgents.length; v++) { 
      if (userAgentInfo.indexOf(mobileAgents[v]) > 0) { 
        mobile_flag = true; break; 
      } 
    } 
    var screen_width = window.screen.width; 
    var screen_height = window.screen.height; 
    if( screen_width < 768 ){ 
      mobile_flag = true;
    } 
    return mobile_flag; 
  }
  
  })
</script>

{% endif %}

{% schema %}
  {
    "name": "Top5",
    "settings": [{
        "type": "text",
        "id": "private",
        "label": "程序参考字段默认勿动",
        "default": "page-boxer-top6"
        },
      {
      	"type": "checkbox",
      	"id": "restore_style",
      	"label": "切换至改版前样式",
        "default": false
      },
	  {
        "type": "text",
        "id": "title",
        "label": "标题",
        "default": "TOP PRODUCTS"
      },
      {
        "type": "text",
        "id": "description",
        "label": "描述",
        "default": "OVER 10000 SOLD FROM OUR CUSTOMER"
      },
      {
        "id": "collection",
        "type": "collection",
        "label": "Collection"
      },
	  {
      	"type": "checkbox",
      	"id": "banner_enable",
      	"label": "改版前样式开启横幅",
        "default": false
      },     
      {
        "type": "image_picker",
        "id": "top2BannerPc",
        "label": "pc"
      },
      {
          "type": "image_picker",
          "id": "top2BannerMb",
          "label": "mb"
        }
      
    ],
    "presets": [
      {
        "name": "Top 5",
        "category": "Collection"
      }
    ]
  }
{% endschema %}