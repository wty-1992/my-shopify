<style>
.cart-success-section {
  height:100%;
  width:100%;
}
.cart-success-section button{
  border:none;  
  background: transparent;
}
.cart-success-section .cart-success{    
  padding: 5rem 3rem 2rem;
  display: flex;
  flex-direction: column;
  align-items: center;
   text-align: center;
  font-size: 1.2rem;
}
.cart-success-section .cart-success .continue:hover{
  color:#fff;
}
.cart-success-section .cart-success .continue{    
  border: 1px solid #9d9d9d ;
  background: #9d9d9d ;
  color: #fff ;
}

.cart-success-section .cart-success .add-cart-product i{    
  color: #5acb7a;
  font-size: 20px;
}
.cart-success-section .cart-success .add-cart-product {   
  text-transform: uppercase;
  font-size: 20px;
  color: #333; 
  margin-bottom: .5rem;
}
.cart-success-section .cart-success .product-name{
  margin-bottom:1rem;
  font-size: 13px;
} 
.cart-success-section .btn.focus, .cart-success-section .btn:focus {
  outline: 0; 
  box-shadow: none;
}
#cart-success-template{
  height: 100%;
  display: flex;
  align-items: center;
  width:100%;
  justify-content: center;
}
.cart-success .row .btn{
  border-radius: 0;
  padding: 7px 45px;
  width: 100%;
  letter-spacing: 0;
  text-transform: capitalize;
  font-size:16px;
}
.cart-success .row{
  width:100%;
}
.tingle-modal-box__content button.close-new{
  right: 0;
  top: 0;
}
.tingle-modal-box__content .close-new i{
  line-height: 1;
  color: #484747;
}
.product-collection-list{width:100%}
.product-collection-list .title{
  text-transform: uppercase;
  font-size: 18px;
  padding-top: 20px;
  color: #454545;
}
#swiper-recommend-cart-success{
  padding:0;
}
.product-collection-list .home-collection-off{    
  display: flex;
  justify-content: center;
  margin-top:1rem;
}
.product-collection-list .home-collection-off span{
  padding: 1px 10px;
  font-weight: 600;
  color: #E9034D;
  border: 1px solid #E9034D;
  font-size: 12px;
  line-height: 1;
  border-radius: 4px;
}
.product-collection-list li.swiper-slide .cheap-title {
  margin: .6rem auto 0;
  word-wrap: break-word;
  display: block;
  max-height: 2rem;
  line-height: 1;
  text-align: center;
  text-transform: capitalize;
  color: #282828;
  text-overflow: ellipsis;
  white-space: nowrap;
  overflow: hidden;
  width: 99%;
  font-size: 12px;
} 
.product-collection-list li.swiper-slide .box-price {
  display: flex;
  justify-content: center;
  align-items: center;
  margin-top: 4px;
}
.product-collection-list li.swiper-slide .box-price .new-price {
  margin-right: .2rem;
  font-size: 12px;
  font-weight: bold;
  color: #000;
}
.product-collection-list li.swiper-slide .box-price .old-price {
  opacity: 1;
  color: #e81150;
  font-weight: 600;
  font-size: 12px;
  text-decoration: line-through;
  margin-left: 0.3rem;
}
.gift_card_box {
  display: flex;
  align-items: center;
  width: calc(100% - 30px);
  justify-content: center;
  margin: 15px 0px;
  padding: 12px 0;
  border: 1px solid #ccc;
  border-left: none;
  border-right: none;
}
.gift_card_box img{
  width: 25px;
  margin-right:10px;
}
.gift_card_box span{
  color: #000;
  font-family: "OpenSans";
  font-size: 16px;
  padding-left: 10px;
  font-weight: 600;
  letter-spacing: 1px;
  line-height: 1;
  text-align: left;
}
.gift_card_box a{
  margin-left: 10px;
  background: #000;
  color: #fff;
  font-size: 15px;
  padding: 4px 12px;
  white-space: nowrap;
  line-height: 1;
}
.gift_card_box a:hover{
  color: #fff;
}
  
@media(min-width:768px){
  .tingle-modal-card-success .tingle-modal-box{
    height:auto;
    max-height:570px;
  }
}
@media(max-width:640px){
.tingle-modal-box__content .close-new{
  right: 0rem;
}
.tingle-modal-box__content .close-new i{
  font-size: 2rem;
}
.cart-success-section .cart-success{ 
  justify-content: center;
  padding: 5rem 2rem 2rem;
  height:100%;
}
.cart-success-section .cart-success .add-cart-product{
  font-size:15px;
  line-height: 1.1;
  text-align: center;
  text-indent: 0;
}
.cart-success-section .cart-success .continue{
  margin-bottom:1.2rem;
}
.product-collection-list .title{
  font-size: 16px;
  padding-top: 0px;
}
#swiper-recommend-cart-success{
  width: calc(100% - 40px);
}
.cart-success-section .cart-success .product-name{
  font-size: 12px;
  line-height: 1.3;
  margin-bottom: 1rem;
  margin-top: 1rem;
  text-align: center;
}
.cart-success .row{
  flex-flow: wrap;
}
.cart-success .row .btn{
  padding: 6px 15px;
  text-transform: capitalize;
  text-align: center;
  font-size: 12px;
}
.cart-success .row .col-xs-12{
  width: 50%;
  padding: 5px;
}
.tingle-modal-card-success.tingle-modal--visible .tingle-modal-box{
  -webkit-transform: scale(1) translateY(-50%);
  -ms-transform: scale(1) translateY(-50%);
  transform: scale(1) translateY(-50%);  
  height: auto;
  top: 50%;
  width: 96vw;
  margin: 0 2vw 0 2vw;
}
.product-name{
  display: none;
}
.cart-success-section .cart-success{
  padding: 4rem 0rem 1rem;
}
.gift_card_box {
  width: calc(100% - 15px);
  padding: 7px 0;
}
.gift_card_box img {
  width: 20px;
  margin-right: 5px;
}
.gift_card_box span{
  font-size: 13px;
  font-size: 12px;
  padding: 6px 8px;
  line-height: 1;
}
.gift_card_box a{
  font-size: 12px;
}
  
}
</style>

<template id="CartSuccessSourceTemplate">
  <button type="button" class="close-new" data-action="close">
      <i class="photofont icon photo-close"></i>
  </button>
  {% raw %}
  <div class="cart-success">  
      <div class="msg-box"> 
          <p class="add-cart-product ">
          <i class="photofont icon photo-zhengque2"></i>
              {% endraw %}{{'cart.items.added_product_to_cart' | t }}{% raw %}
          </p>
          <p class="product-name"> 
              <span class="title">{{ title }}</span> 
              <span style="color:#e60044" class="quantity">x {{ quantity }}</span> 
          </p>                                                                           
      </div> 
      <div class="row">
          <div class="col-xs-12 col-sm-6 col-md-6"> 
              <a class="btn continue" role="button" data-action="close">{% endraw %}{{'cart.items.continue_shopping' | t }}{% raw %}</a> 
          </div>
          <div class="col-xs-12 col-sm-6 col-md-6 j-rigth">
              <a class="btn view-cart" role="button" href="/cart">{% endraw %}{{'cart.items.view_cart_checkout' | t }}{% raw %}</a> 
          </div>   
          
      </div>        
      {% endraw %}
    
      {% if section.settings.gift_card_enable %}
        <div class="gift_card_box">
          {% if section.settings.gift_card_icon %}
            <img width="100%" class="gift_card_icon" src="{{section.settings.gift_card_icon | img_url: 'master'}}"/>
          {% endif %}
          <span>{{section.settings.gift_card_text}}</span>
          <a href="{% if section.settings.gift_card_link == blank %}javascript:;{%else%}{{section.settings.gift_card_link}}{%endif%}">{{section.settings.gift_card_btn}}</a>
        </div>
      {% endif %}
    
      {% for block in section.blocks %}
        {% unless block.settings.enable %}
        {% continue %}
        {% endunless %}

        {% unless block.settings.tag != blank %}
        {% continue %}
        {% endunless %}
    
		{% if block.settings.tag_or_type == 'tag' %}
          {% assign type_or_tag = product.tags %}
        {% else %}
          {% assign type_or_tag = product.type %}
        {% endif %}
    
        {% unless type_or_tag contains  block.settings.tag %}
        {% continue %}
        {% endunless %}

        {% assign current_collection = collections[block.settings.collection] %}
        {% unless current_collection %}
        {% continue %}
        {% endunless %}
    
    	{% if current_collection.products.size > 0 %}
          {% raw %}
            <div class="product-collection-list">
              {% endraw %}{% if block.settings.title_text %}{% raw %}
              <div class="title">{% endraw %}{{ block.settings.title_text }}{% raw %}</div>
              {% endraw %}{% endif %}{% raw %}
              {% endraw %}{% include 'product-card-success' %}{% raw %}
            </div>
          {% endraw %}
        {% endif %}
      {% endfor %}
    
      {% if section.settings.default_enable %}
    	
    	{% unless current_collection and current_collection.products.size > 0 %}
          {% assign current_collection = collections[section.settings.default_collection] %}

          {% raw %}
            <div class="product-collection-list">
              {% endraw %}{% if section.settings.default_title_text %}{% raw %}
              <div class="title">{% endraw %}{{ section.settings.default_title_text }}{% raw %}</div>
              {% endraw %}{% endif %}{% raw %}
              {% endraw %}{% include 'product-card-success' %}{% raw %}
            </div>
          {% endraw %}
    	{% endunless %}
      {% endif %}
    
      {% raw %}
  </div>
  {% endraw %}
</template>
<div id="CartSuccessTemplate"></div>
  
{% if section.settings.before_html %}
<div class="before_html">{{section.settings.before_html}}</div>
{% endif %}

{% if section.settings.after_html %}
<div class="after_html">{{section.settings.after_html}}</div>
{% endif %}

<script>  
document.getElementById("shopify-section-cart-success").setAttribute("data-class","tingle-modal-card-success");
Listener.on([ Listener.cart.add.after ], function(event, item) { 
  var compileTemplate = Handlebars.compile($('#CartSuccessSourceTemplate').html());
  $('#CartSuccessTemplate').empty().append(compileTemplate(item));
});
</script>


{% schema %}
  {
    "name": "购物车 - 添加成功弹层",
    "class": "cart-success-section hide",
    "max_blocks": 2000,
    "settings":[
      {
        "type": "paragraph",
        "content":"cart-success"
      },
      {
        "type": "html",
        "id": "before_html",
        "label": "块之前的额外的HTML"
	  },
	  {
        "type": "range",
        "id": "limit",
        "min": 1,
        "max": 20,
        "step": 1,
        "unit": "num",
        "label": "显示数量",
        "default": 4
      },
      {
        "type": "html",
        "id": "after_html",
        "label": "块之后的额外的HTML"
      },
	  {
        "type": "checkbox",
        "id": "default_enable",
        "label": "是否开启默认集合",
        "default": true
      },
	  {
        "type": "text",
        "id": "default_title_text",
        "label": "默认集合显示的标题"
      },
      {
        "type": "collection",
        "id": "default_collection",
        "label": "默认集合"
      },
	  {
        "type": "range",
        "id": "default_limit",
        "min": 1,
        "max": 20,
        "step": 1,
        "unit": "num",
        "label": "显示数量",
        "default": 4
      },
      {
        "type": "header",
        "content": "礼品卡部分"
      },
	  {
        "type": "checkbox",
        "id": "gift_card_enable",
        "label": "开启礼品卡",
        "default": false
      },
      {
        "type": "image_picker",
        "id": "gift_card_icon",
        "label": "礼品卡功能图标"
      },
      {
        "type": "text",
        "id": "gift_card_text",
        "label": "礼品卡描述"
      },
      {
        "type": "text",
        "id": "gift_card_btn",
        "label": "礼品卡按钮文案"
      },
      {
        "type": "url",
        "id": "gift_card_link",
        "label": "礼品卡跳转链接"
      }
    ],
	"blocks": [
	  {
        "type": "collection",
        "name": "推荐产品集合",
  	   	"settings": [
          {
            "type": "checkbox",
            "id": "enable",
            "label": "是否开启",
            "default": true
          },
          {
            "type": "text",
            "id": "title",
            "label": "哪类产品"
          },
          {
            "type": "select",
            "id": "tag_or_type",
            "label": "Tag OR Type",
            "options": [
              {
                "value": "tag",
                "label": "Tag"
              },
              {
                "value": "type",
                "label": "Type"
              }
            ],
            "default": "tag"
          },
          {
            "type": "text",
            "id": "tag",
            "label": "产品标签"
          },
          {
            "type": "text",
            "id": "title_text",
            "label": "显示的标题"
          },
          {
            "type": "collection",
            "id": "collection",
            "label": "选择集合"
          },
          {
            "type": "range",
            "id": "limit",
            "min": 1,
            "max": 20,
            "step": 1,
            "unit": "num",
            "label": "显示数量",
            "default": 4
          }
      	]
	  }
	]
  }
{% endschema %}