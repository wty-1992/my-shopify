!function(){var e,t;var o={};var e=new tingle.modal({footer:!0,stickyFooter:!1,onOpen:function(){console.log("modal open")},onClose:function(){jQuery("#ucpic2").val(""),jQuery("#zcloading2").css("display","none"),console.log("modal closed")},beforeClose:function(){return!0;return!1}});var a=new tingle.modal({footer:!0,stickyFooter:!1,onOpen:function(){console.log("modal open")},onClose:function(){console.log("modal closed")},beforeClose:function(){return!0;return!1}});e.setContent('<div class="popbox" style="height: calc(100% - 90px); position: relative;"><img id="popimage2" src="" alt="Picture"><div class="docs-buttons"><button type="button" class="btn btn-primary" data-method="rotate" data-option="-45" title="Rotate Left"><img src="//cdn.shopifycdn.net/s/files/1/0106/6952/3025/t/14/assets/left_small.png?v=10253132174108554286"/></button><button type="button" class="btn btn-primary" data-method="rotate" data-option="45" title="Rotate Right"><img src="//cdn.shopifycdn.net/s/files/1/0106/6952/3025/t/14/assets/right_small.png?v=8406027003335587567"/></button><button type="button" class="btn btn-primary" data-method="reset" title="Reset">Reset </button></div><div class="cropcontent">Crop the image to keep only 1-2 faces you want to print</div> </div>  <div id="zcloading2" style="display:none;"><img src="//cdn.shopifycdn.net/s/files/1/0106/6952/3025/t/14/assets/Loading_icon_150x.gif?v=12629094114912988311" /></div>'),e.addFooterBtn("Cancel","tingle-btn tingle-btn--danger",(function(){jQuery("#ucpic2").val(""),e.close()})),e.addFooterBtn("Confirm","tingle-btn tingle-btn--primary",(function(){result=r.cropper("getCroppedCanvas",{maxWidth:2048,maxHeight:2048}),result&&($("#previe").html(result),imgdata=result.toDataURL("image/jpeg"),jQuery.ajax({type:"POST",url:"https://pic.stylelab.com/pictured/generate",dataType:"json",data:{originImg:imgdata},beforeSend:function(){jQuery(".tingle-btn--primary").attr("disabled","disabled"),jQuery(".tingle-btn--danger").attr("disabled","disabled"),jQuery("#zcloading2").css("display","block")},progress:function(e){},success:function(t){200==t.state?(jQuery("#crop_picture2").val("https://pic.stylelab.com/"+t.crop),jQuery("#previewpicture2").attr("src","https://pic.stylelab.com/"+t.crop),jQuery(".tingle-btn--primary").attr("disabled",!1),jQuery(".tingle-btn--danger").attr("disabled",!1),jQuery(".uploadafterimg2").css("display","block"),jQuery("#ucpic2").val(""),jQuery("#zcloading2").css("display","none"),jQuery(".product-addon-1-face-or-2-2").show(),e.close()):500==t.state}}))})),a.addFooterBtn("OK","tingle-btn tingle-btn--danger",(function(){a.close()}));var n={viewMode:1,dragMode:"move"};var r=$("#popimage2");r.cropper(n);var i=$("#download");function c(e){$(".selector-wrapper label").each((function(t){"TwoFace2"==jQuery.trim(jQuery(this).text())&&jQuery(this).next("select").val(e).trigger("change")}))}function d(e){jQuery(".selector-wrapper label").each((function(){jQuery.trim(jQuery(this).text())==e&&jQuery(this).parent().hide()}))}d("TwoFace2"),$((function(){var t=window.URL||window.webkitURL;var o=$("#inputImage2");uploadedImageURL="",t?o.change((function(){e.open();var a=this.files;var i;r.data("cropper")&&a&&a.length&&(i=a[0],/^image\/\w+$/.test(i.type)?(uploadedImageName=i.name,uploadedImageType=i.type,uploadedImageURL&&t.revokeObjectURL(uploadedImageURL),uploadedImageURL=t.createObjectURL(i),r.cropper("destroy").attr("src",uploadedImageURL).cropper(n),o.val("")):window.alert("Please choose an image file."))})):o.prop("disabled",!0).parent().addClass("disabled"),jQuery("#showimage3").click((function(){a.setContent("<img src='//cdn.shopifycdn.net/s/files/1/0106/6952/3025/t/14/assets/examples.jpg?v=14728949922616328627'>"),a.open()})),jQuery("#addon-checkbox2").click((function(){var e;c(e=jQuery(this).prop("checked")?1:0)})),jQuery("#checkText").click((function(){var e;jQuery("#addon-checkbox2").prop("checked")?jQuery("#addon-checkbox2").prop("checked",!1).change():jQuery("#addon-checkbox2").prop("checked",!0).change(),c(e=jQuery("#addon-checkbox2").prop("checked")?1:0)}))})),$(".docs-buttons").on("click","[data-method]",(function(){var e=$(this);var t=e.data();var o=r.data("cropper");var a;var c;var d;if(!e.prop("disabled")&&!e.hasClass("disabled")&&o&&t.method){if("undefined"!=typeof(t=$.extend({},t)).target&&(c=$(t.target),"undefined"==typeof t.option))try{t.option=JSON.parse(c.val())}catch(e){console.log(e.message)}switch(a=o.cropped,t.method){case"rotate":a&&n.viewMode>0&&r.cropper("clear");break;case"getCroppedCanvas":"image/jpeg"===uploadedImageType&&(t.option||(t.option={}),t.option.fillColor="#fff");break}switch(d=r.cropper(t.method,t.option,t.secondOption),t.method){case"rotate":a&&n.viewMode>0&&r.cropper("crop");break;case"scaleX":case"scaleY":$(this).data("option",-t.option);break;case"getCroppedCanvas":d&&($("#getCroppedCanvasModal").modal().find(".modal-body").html(d),i.hasClass("disabled")||(download.download=uploadedImageName,i.attr("href",d.toDataURL(uploadedImageType))));break;case"destroy":uploadedImageURL&&(URL.revokeObjectURL(uploadedImageURL),uploadedImageURL="",r.attr("src",originalImageURL));break}if($.isPlainObject(d)&&c)try{c.val(JSON.stringify(d))}catch(e){console.log(e.message)}}}))}();
//# sourceMappingURL=/s/files/1/0585/3511/6980/t/1/assets/zen-cropper-custom2.js.map?v=14789629122806285554
