{% if collection.description != blank %}
<div class="section-header__subtext">
    {{ collection.description }}
</div>
{% endif %}

{% section 'common-top5' %}
{% section 'common-adp' %}


<div class="page-width collection-filter">
    <div class="collection-side-left">
        <div id="bc-sf-filter-top-sorting"></div>
        <div id="bc-sf-filter-tree-mobile"></div> 
        <div id="bc-sf-filter-tree"></div>
    </div>
    <div class="collection-list-grid" id="bc-sf-filter-products"></div>
</div>
<div class="page-width">
    <div id="bc-sf-filter-bottom-pagination"></div>
</div>

<script>
    var FilterProductMetafields = {
        {% paginate collection.products by 1000 %}
        {%- for item in collection.products -%}
        "{{item.id}}":{{item.metafields["global"] | json}},
        {%- endfor -%}
        {%- endpaginate -%}
    }
</script>

<style>
    .collection-filter {
        display: flex;
        margin-top: 2rem;
    }

    .collection-side-left {
        min-width: 225px;
        margin-right:2rem;
    }

    @media (max-width: 640px) {
        .collection-filter { 
            margin-top: 0rem;
            margin-right:0rem;
            flex-direction: column;
        }
        .collection-side-left {
            /*display: none*/
            margin-right:0px;
        }
    }
    .pagination-custom{
        display: flex;
        justify-content: center;
        align-items: center;
        padding: 15px 0px;
    }
    .pagination-custom li {
        padding:0px 5px;
    }
    .pagination-custom li span, .pagination-custom li a{
        padding:5px 10px;
        background-color:#e6e6e6;
        border-radius: 5px;
    }
</style>
<style>
.collection-list-grid{background:#fff;
  display: flex;
  justify-content: left;
  align-items: flex-start;
  flex-wrap: wrap;}
.collection-list-grid .product-card__info{
    display: grid;
    grid-template-columns: 50% 50%;
    position: relative;    margin-bottom:1rem;
  width: 100%;
  text-align: center;
  } 
.collection-list-grid .product-card__price{
    padding:1rem;
    text-align: left;
    display: flex; 
    flex-direction: column;
}
.collection-list-grid .product-card__sale-price{
    margin-right: .2rem;
    font-size: 1.3rem;
    font-weight: bold;
    color: #D81E06;
}
.collection-list-grid .product-card__regular-price{ 
    color: #000;
    font-size: 1rem; 
    text-decoration: line-through;
    margin: .3rem 0 0 0;
}
.collection-list-grid .product-card__name{
    font-size: 1rem;
    letter-spacing: 1px;
    text-align: left;
    color: #333;
    line-height: 1.2rem;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    height: 2.3rem;
    padding: 0 1rem; 
    grid-column: 1 / 4;
} 
.collection-list-grid .medium-up--btn{
    display:none;
}
.collection-list-grid .collection-label{
    grid-column: 2 /4;
    grid-row: 1;
    align-items: flex-start;
    display: flex;
    padding: 1rem 1rem 1rem 0;
    text-align: center;
  }
.collection-list-grid .collection-label .product-label__icon{
    color: #f0a635;
    border: 1px solid #fec369;
    padding: .1rem 0; 
    -webkit-font-smoothing: initial;
}

.collection-list-grid .product-card__image-container {
    width: 100%;
    padding-bottom: 0;
}.product-card__image-wrapper .product-card__tag {
    position: absolute;
    top: 0;
    right: 0;
}
.collection-list-grid .product-card__image {
  padding-bottom: 100%;
  height:0;
  position: relative;
  display: flex;
    justify-content: center;
    align-items: center;
    width: 100%;
}
.collection-list-grid .product-card__image img {
  position:absolute;
  width: 100%;
  height: 100%;
  left: 0;
  top: 0;
  border: none;
  overflow: hidden;
}
.collection-list-grid .ratings-fa-star {
  grid-column: 1/4;
}
.collection-list-grid .ratings-fa-star .yotpo.bottomLine .yotpo-bottomline .yotpo-icon-star{
  font-size: 12px;
}
.collection-list-grid .ratings-fa-star .yotpo .yotpo-stars{
  margin-right:8px;
}
.collection-list-grid .ratings-fa-star .yotpo span{
  line-height:unset;
}
.collection-list-grid .ratings-fa-star .yotpo .text-m{
  font-size: 12px;
}
.collection-list-grid .item{
    flex:0 1 calc(50% - .4rem);
     margin:.2rem
}
@media(min-width:768px){
 .collection-list-grid .item{
    flex:0 1 calc(33.33% - .4rem);
    margin:.2rem
}  
}
@media(min-width:1024px){
.collection-list-grid .medium-up--btn{
    display:block;
}
.collection-list-grid .product-card__price{
    padding: 0.83rem 0;
    text-align: left;
    display: flex;
    flex-direction: initial;
}
.collection-list-grid .product-card__sale-price{
    margin-right: .2rem;
    font-size: 1rem;
    font-weight: bold;
    color: #e81150;
}
.collection-list-grid .product-card__regular-price{ 
    color: #000;
    font-size: .8rem; 
    text-decoration: line-through;
    margin: 0 0 0 .5rem;
}
.collection-list-grid .collection-label {
    grid-column: 1 / 4;
    grid-row: 4;
}
.collection-list-grid .collection-label .product-label__icon{
        padding: .3rem .5rem;
}
.collection-list-grid .item .product-card__name{
    font-size: 1rem;
    letter-spacing: 1px;
    text-align: left;
    color: #333;
    line-height: 1.2rem;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    height: 3.3rem;
    padding:0px;
}
.collection-list-grid .item:hover .product-card__name{
   white-space: unset;
    overflow: unset;
    text-overflow: unset;
    height:3.3rem
}
.collection-list-grid .item .product-card__info .btn {
    position: absolute;
    bottom: 0px;
    opacity: 0;
    transition: all .2s;
    padding: 1rem 0rem;
    border-radius: 0px;
    grid-column: 1 / 4;
    z-index: 9;
}
.collection-list-grid .item:hover .product-card__info .btn { 
    opacity: 1; 
}

.collection-list-grid .collection-label {
    grid-column: 1 / 4;
    grid-row: 4;
    margin-top: .8rem;}
.collection-list-grid .collection-label .product-label__icon{
        padding: .3rem .5rem;
}
}
  </style>
<script>
  // Declare bcSfFilterConfig variable
  var bcSfFilterConfig = {
    label: {
      sold_out: '',
      sorting: {% assign temp = 'collections.sorting.title' | t  %} {% unless temp contains 'translation missing'  %} "{{ temp }}" {% else %} "Sorting" {% endunless %},
      sorting_best_selling: {% assign temp = 'collections.sorting.best_selling' | t %} {% unless temp contains 'translation missing'  %} "{{ temp }}" {% else %} "Best Selling" {% endunless %},
      sorting_featured: {% assign temp = 'collections.sorting.featured' | t %} {% unless temp contains 'translation missing'  %} "{{ temp }}" {% else %} "Featured" {% endunless %},
      sorting_title_ascending: {% assign temp = 'collections.sorting.az' | t %} {% unless temp contains 'translation missing'  %} "{{ temp }}" {% else %} "Alphabetically, A-Z" {% endunless %},
      sorting_title_descending: {% assign temp = 'collections.sorting.za' | t %} {% unless temp contains 'translation missing'  %} "{{ temp }}" {% else %} "Alphabetically, Z-A" {% endunless %},
      sorting_price_ascending: {% assign temp = 'collections.sorting.price_ascending' | t %} {% unless temp contains 'translation missing'  %} "{{ temp }}" {% else %} "Lowest Price" {% endunless %},
      sorting_price_descending: {% assign temp = 'collections.sorting.price_descending' | t %} {% unless temp contains 'translation missing'  %} "{{ temp }}" {% else %} "Highest Price" {% endunless %},
      sorting_date_ascending: {% assign temp = 'collections.sorting.date_ascending' | t %} {% unless temp contains 'translation missing'  %} "{{ temp }}" {% else %} "Date, Old to New" {% endunless %},
      sorting_date_descending: {% assign temp = 'collections.sorting.date_descending' | t %} {% unless temp contains 'translation missing'  %} "{{ temp }}" {% else %} "Date, New to Old" {% endunless %},
      sorting_sale_descending: {% assign temp = 'collections.sorting.sale_descending' | t %} {% unless temp contains 'translation missing'  %} "{{ temp }}" {% else %} "% Off" {% endunless %},
      sorting_relevance: {% assign temp = 'collections.sorting.relevance' | t %} {% unless temp contains 'translation missing'  %} "{{ temp }}" {% else %} "Relevance" {% endunless %},
      search_general_title: {% assign temp = 'collections.product_filter_search.search_general_title' | t %} {% unless temp contains 'translation missing'  %} "{{ temp }}" {% else %} 'Search' {% endunless %},
      search_result_header: {% assign temp = 'collections.product_filter_search.search_result_header' | t %} {% unless temp contains 'translation missing'  %} "{{ temp }}" {% else %} {% raw %}'Search Results for "{{ terms }}"'{% endraw %} {% endunless %},
      search_result_empty: {% assign temp = 'collections.product_filter_search.search_result_empty' | t %} {% unless temp contains 'translation missing'  %} "{{ temp }}" {% else %} {% raw %}'Your search for "{{ terms }}"" didn\'t match any results'{% endraw %} {% endunless %},
      search_result_number: {% assign temp = 'collections.product_filter_search.search_result_number' | t %} {% unless temp contains 'translation missing'  %} "{{ temp }}" {% else %} {% raw %}'Showing {{ count }} results for "{{ terms }}"'{% endraw %} {% endunless %},
      from_price: ''
    },
    custom: {
    }
  };  
</script>